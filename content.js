function sendInputContent2Extension(){var e=window.location.hostname.indexOf("www.facebook.com")>=0,t=window.location.hostname.indexOf("twitter.com")>=0;if("password"!==String(document.activeElement.getAttribute("type")).toLowerCase())if(document.activeElement.getAttribute("contenteditable"))if(e)chrome.runtime.sendMessage(["toPopupJS","get",document.activeElement.firstChild.firstChild.firstChild.firstChild.firstChild.innerHTML]);else if(t){for(var n="",i=document.activeElement.firstChild.childNodes,o=0;o<i.length;o++)n+="span"===String(i[o].tagName).toLowerCase()?i[o].getAttribute("data-pictograph-text"):i[o].textContent?i[o].textContent:i[o].innerText;chrome.runtime.sendMessage(["toPopupJS","get",n])}else chrome.runtime.sendMessage(["toPopupJS","get",document.activeElement.innerHTML]);else"input"===String(document.activeElement.tagName).toLowerCase()||"textarea"===String(document.activeElement.tagName).toLowerCase()?chrome.runtime.sendMessage(["toPopupJS","get",document.activeElement.value]):chrome.runtime.sendMessage(["toPopupJS","get",""])}document.onclick=function(){sendInputContent2Extension()},document.onkeyup=function(){sendInputContent2Extension()},chrome.runtime.onMessage.addListener(function(e,t,n){if("toContentJS"===e[0]){var i=window.location.hostname.indexOf("www.facebook.com")>=0;document.activeElement.getAttribute("contenteditable")?i?document.activeElement.firstChild.firstChild.firstChild.firstChild.firstChild.innerHTML=e[2]:document.activeElement.innerHTML=e[2]:("input"===String(document.activeElement.tagName).toLowerCase()||"textarea"===String(document.activeElement.tagName).toLowerCase())&&(document.activeElement.value=e[2])}});